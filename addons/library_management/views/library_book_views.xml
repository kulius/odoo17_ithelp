<odoo>
    <record id="view_library_book_form" model="ir.ui.view">
        <field name="name">library.book.form</field>
        <field name="model">library.book</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="action_borrow" string="借出" type="object" class="btn-primary"
                            modifiers="{'invisible': [('is_borrowed', '=', True)]}"/>
                    <button name="action_return" string="歸還" type="object" class="btn-secondary"
                            modifiers="{'invisible': [('is_borrowed', '=', False)]}"/>
                </header>
                <sheet>
                    <group>
                        <field name="name" string="書名"/>
                        <field name="author" string="作者"/>
                        <field name="isbn" string="ISBN"/>
                        <field name="category_id" string="分類"/>
                    </group>
                    <group>
                        <field name="is_borrowed" string="是否已借出" readonly="1"/>
                        <field name="borrowed_by" string="借書學生" />
                        <field name="borrow_date" string="借出日期" readonly="1"/>
                        <field name="return_date" string="歸還日期" readonly="1"/>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
        <!-- 書籍管理動作 -->
    <record id="action_library_books" model="ir.actions.act_window">
        <field name="name">書籍管理</field>
        <field name="res_model">library.book</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>
